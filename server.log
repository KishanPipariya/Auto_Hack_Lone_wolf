2025-12-20 11:26:57,328 - travel_agent_server - INFO - Received streaming request for city: Tokyo, budget: 1000.0
2025-12-20 11:30:35,516 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 1000.0
2025-12-20 11:30:45,556 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: 36 validation errors for Itinerary
days.0.activities.0.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='Tip-based (recommend €10-€15)', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.0.activities.0.duration_hours
  Field required [type=missing, input_value={'name': 'Free Walking To...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.0.tags
  Field required [type=missing, input_value={'name': 'Free Walking To...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.1.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€10-€15', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.0.activities.1.duration_hours
  Field required [type=missing, input_value={'name': 'Lunch at Albert...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.1.tags
  Field required [type=missing, input_value={'name': 'Lunch at Albert...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.2.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='Free', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.0.activities.2.duration_hours
  Field required [type=missing, input_value={'name': 'Rijksmuseum Gar...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.2.tags
  Field required [type=missing, input_value={'name': 'Rijksmuseum Gar...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.3.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€10-€20 (drinks)', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.0.activities.3.duration_hours
  Field required [type=missing, input_value={'name': 'The Waterhole L... 'interests': ['Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.3.tags
  Field required [type=missing, input_value={'name': 'The Waterhole L... 'interests': ['Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.0.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€19-€25', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.1.activities.0.duration_hours
  Field required [type=missing, input_value={'name': 'Canal Cruise', ...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.0.tags
  Field required [type=missing, input_value={'name': 'Canal Cruise', ...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.1.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€10-€15', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.1.activities.1.duration_hours
  Field required [type=missing, input_value={'name': 'Lunch in Jordaa...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.1.tags
  Field required [type=missing, input_value={'name': 'Lunch in Jordaa...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.2.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€22 (book online in advance)', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.1.activities.2.duration_hours
  Field required [type=missing, input_value={'name': 'Van Gogh Museum...', 'interests': ['Art']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.2.tags
  Field required [type=missing, input_value={'name': 'Van Gogh Museum...', 'interests': ['Art']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.3.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€15-€25 (ticket + drinks)', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.1.activities.3.duration_hours
  Field required [type=missing, input_value={'name': 'Paradiso or Bit...ests': ['Music', 'Art']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.3.tags
  Field required [type=missing, input_value={'name': 'Paradiso or Bit...ests': ['Music', 'Art']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.0.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='Tip-based (recommend €10-€15)', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.2.activities.0.duration_hours
  Field required [type=missing, input_value={'name': 'Free Alternativ...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.0.tags
  Field required [type=missing, input_value={'name': 'Free Alternativ...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.1.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€15-€20', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.2.activities.1.duration_hours
  Field required [type=missing, input_value={'name': 'Lunch at D&A Hu...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.1.tags
  Field required [type=missing, input_value={'name': 'Lunch at D&A Hu...ests': ['Art', 'Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.2.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='Free', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.2.activities.2.duration_hours
  Field required [type=missing, input_value={'name': 'Open Space Cont...', 'interests': ['Art']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.2.tags
  Field required [type=missing, input_value={'name': 'Open Space Cont...', 'interests': ['Art']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.3.cost
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='€10-€20 (drinks)', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/float_parsing
days.2.activities.3.duration_hours
  Field required [type=missing, input_value={'name': 'Jazz Cafe Alto'... 'interests': ['Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.3.tags
  Field required [type=missing, input_value={'name': 'Jazz Cafe Alto'... 'interests': ['Music']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-20 11:30:45,556 - travel_agent_server.agent - ERROR - RAW Response: ```json
{
    "city": "Amsterdam",
    "days": [
        {
            "day_number": 1,
            "activities": [
                {
                    "name": "Free Walking Tour",
                    "duration": "2.5 hours",
                    "cost": "Tip-based (recommend €10-€15)",
                    "description": "Start your Amsterdam journey with a free walking tour covering major sights like Dam Square, Royal Palace, and the canal district. Several companies offer these tours, including Free Walking Tours Amsterdam and Sandemans New Europe. Consider the Classic Amsterdam Tour for a general overview or the Alternative Tour for a look into Dutch traditions and street art.",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "Lunch at Albert Cuyp Market",
                    "duration": "1.5 hours",
                    "cost": "€10-€15",
                    "description": "Head to Albert Cuyp Market in De Pijp for a budget-friendly and diverse lunch. Enjoy street food and local snacks like herring, stroopwafels, or fries.",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "Rijksmuseum Gardens & Amsterdam City Archives",
                    "duration": "2 hours",
                    "cost": "Free",
                    "description": "Visit the Rijksmuseum Gardens for free and explore the sculptures and installations. Then, check out the Amsterdam City Archives in the De Bazel building, an Art Deco gem, and explore the exhibitions.",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "The Waterhole Live Music",
                    "duration": "2-3 hours",
                    "cost": "€10-€20 (drinks)",
                    "description": "Enjoy live music at The Waterhole, known for its unplugged music and cheap drinks. This venue has a happy hour for nine hours.",
                    "interests": [
                        "Music"
                    ]
                }
            ]
        },
        {
            "day_number": 2,
            "activities": [
                {
                    "name": "Canal Cruise",
                    "duration": "1-1.5 hours",
                    "cost": "€19-€25",
                    "description": "Take a canal cruise to experience Amsterdam from the water. Opt for a standard 1-hour cruise.",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "Lunch in Jordaan",
                    "duration": "1.5 hours",
                    "cost": "€10-€15",
                    "description": "Explore the Jordaan neighborhood and have lunch at a cozy cafe. Try Pluk for a Dutch breakfast menu or grab coffee at Cloud or Wandu. Wander through De 9 Straatjes (Nine Streets).",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "Van Gogh Museum (Evening)",
                    "duration": "2-3 hours",
                    "cost": "€22 (book online in advance)",
                    "description": "Visit the Van Gogh Museum in the late afternoon/early evening to avoid crowds. Book tickets online in advance. Alternatively, visit the Rijksmuseum Gardens.",
                    "interests": [
                        "Art"
                    ]
                },
                {
                    "name": "Paradiso or Bitterzoet Live Music",
                    "duration": "2-3 hours",
                    "cost": "€15-€25 (ticket + drinks)",
                    "description": "Check out live music at Paradiso, a former church and iconic venue, or Bitterzoet, a smaller venue known for its intimate atmosphere and diverse music events.",
                    "interests": [
                        "Music",
                        "Art"
                    ]
                }
            ]
        },
        {
            "day_number": 3,
            "activities": [
                {
                    "name": "Free Alternative Walking Tour",
                    "duration": "2.5-3 hours",
                    "cost": "Tip-based (recommend €10-€15)",
                    "description": "Take the Free Alternative Tour of Amsterdam to discover Dutch traditions, street art, and the UNESCO canal belt. Learn about the city's counterculture and unique aspects.",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "Lunch at D&A Hummus Bistro",
                    "duration": "1.5 hours",
                    "cost": "€15-€20",
                    "description": "Have lunch at D&A Hummus Bistro and enjoy Mediterranean cuisine. Dishes are under €20.",
                    "interests": [
                        "Art",
                        "Music"
                    ]
                },
                {
                    "name": "Open Space Contemporary Art Museum (OSCAM)",
                    "duration": "2 hours",
                    "cost": "Free",
                    "description": "Visit OSCAM in Zuidoost, a museum where art, fashion, design, and craftsmanship collide. Check out the exhibitions and programs featuring young and established artists.",
                    "interests": [
                        "Art"
                    ]
                },
                {
                    "name": "Jazz Cafe Alto",
                    "duration": "2-3 hours",
                    "cost": "€10-€20 (drinks)",
                    "description": "Enjoy live jazz at Jazz Café Alto, a cozy and intimate jazz bar with nightly live acts.",
                    "interests": [
                        "Music"
                    ]
                }
            ]
        }
    ]
}
```
2025-12-20 11:30:51,390 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: 2 validation errors for Itinerary
city
  Field required [type=missing, input_value={'itinerary': {'City': 'A...'Total_Plan_Cost': 215}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days
  Field required [type=missing, input_value={'itinerary': {'City': 'A...'Total_Plan_Cost': 215}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-20 11:30:51,390 - travel_agent_server.agent - ERROR - RAW Response: ```json
{
  "Itinerary": {
    "City": "Amsterdam",
    "Budget": 1000,
    "Days": [
      {
        "Day": 1,
        "Activities": [
          {
            "Name": "Explore Jordaan District",
            "Description": "Wander through the charming streets of Jordaan and visit De 9 Straatjes.",
            "Cost": 0
          },
          {
            "Name": "Canal Cruise",
            "Description": "Take a leisurely canal cruise to see the city from the water.",
            "Cost": 20
          },
          {
            "Name": "Dinner at De Pizzabakkers",
            "Description": "Enjoy delicious wood-fired pizzas in a cozy atmosphere.",
            "Cost": 30
          }
        ],
        "Total_Cost": 50
      },
      {
        "Day": 2,
        "Activities": [
          {
            "Name": "Van Gogh Museum",
            "Description": "Visit the Van Gogh Museum (book tickets in advance).",
            "Cost": 20
          },
          {
            "Name": "Vondelpark",
            "Description": "Relax and have a picnic in Vondelpark.",
            "Cost": 15
          },
          {
            "Name": "Heineken Experience",
            "Description": "Take the Heineken Brewery Tour.",
            "Cost": 25
          },
          {
            "Name": "Dinner at a local restaurant",
            "Description": "Try some famous Dutch food like apple pie or cheese.",
            "Cost": 30
          }
        ],
        "Total_Cost": 90
      },
      {
        "Day": 3,
        "Activities": [
          {
            "Name": "Anne Frank House",
            "Description": "Visit the Anne Frank House (book tickets way in advance!).",
            "Cost": 15
          },
          {
            "Name": "Bike Tour",
            "Description": "Take a guided bike tour to discover hidden gems.",
            "Cost": 20
          },
          {
            "Name": "Red Light District",
            "Description": "Explore Amsterdam's most famous neighborhood.",
            "Cost": 10
          },
           {
            "Name": "Free Time/Souvenir Shopping",
            "Description": "Explore shops, cafes, or restaurants.",
            "Cost":30
           }
        ],
        "Total_Cost": 75
      }
    ],
    "Total_Plan_Cost": 215
  }
}
```
2025-12-20 11:30:58,233 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: 22 validation errors for Itinerary
city
  Field required [type=missing, input_value={'title': 'Amsterdam Budg..., 'time': 'All day'}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.day_number
  Field required [type=missing, input_value={'day': 1, 'activities': ....', 'time': 'Evening'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.0.duration_hours
  Field required [type=missing, input_value={'name': 'Stroll through ...es.', 'time': 'Morning'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.0.tags
  Field required [type=missing, input_value={'name': 'Stroll through ...es.', 'time': 'Morning'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.1.duration_hours
  Field required [type=missing, input_value={'name': 'Visit the Begij....', 'time': 'Afternoon'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.1.tags
  Field required [type=missing, input_value={'name': 'Visit the Begij....', 'time': 'Afternoon'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.2.duration_hours
  Field required [type=missing, input_value={'name': 'Explore the Red...re.', 'time': 'Evening'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.2.tags
  Field required [type=missing, input_value={'name': 'Explore the Red...re.', 'time': 'Evening'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.day_number
  Field required [type=missing, input_value={'day': 2, 'activities': ...)', 'time': 'Evening'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.0.duration_hours
  Field required [type=missing, input_value={'name': 'Visit the Rijks...es.', 'time': 'Morning'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.0.tags
  Field required [type=missing, input_value={'name': 'Visit the Rijks...es.', 'time': 'Morning'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.1.duration_hours
  Field required [type=missing, input_value={'name': 'Take the Free F....', 'time': 'Afternoon'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.1.tags
  Field required [type=missing, input_value={'name': 'Take the Free F....', 'time': 'Afternoon'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.2.duration_hours
  Field required [type=missing, input_value={'name': 'Explore the Alb...le)', 'time': 'Evening'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.2.tags
  Field required [type=missing, input_value={'name': 'Explore the Alb...le)', 'time': 'Evening'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.day_number
  Field required [type=missing, input_value={'day': 3, 'activities': ....", 'time': 'All day'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.0.duration_hours
  Field required [type=missing, input_value={'name': 'Visit the OBA C...é.', 'time': 'Morning'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.0.tags
  Field required [type=missing, input_value={'name': 'Visit the OBA C...é.', 'time': 'Morning'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.1.duration_hours
  Field required [type=missing, input_value={'name': 'Relax in Vondel....", 'time': 'Afternoon'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.1.tags
  Field required [type=missing, input_value={'name': 'Relax in Vondel....", 'time': 'Afternoon'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.2.duration_hours
  Field required [type=missing, input_value={'name': '24 Hour GVB Tra...rs.", 'time': 'All day'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.2.tags
  Field required [type=missing, input_value={'name': '24 Hour GVB Tra...rs.", 'time': 'All day'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-20 11:30:58,233 - travel_agent_server.agent - ERROR - RAW Response: ```json
{
  "itinerary": {
    "title": "Amsterdam Budget Itinerary",
    "total_cost": 90,
    "budget": 1000,
    "days": [
      {
        "day": 1,
        "activities": [
          {
            "name": "Stroll through the Canal Ring",
            "cost": 0,
            "description": "Wander through the iconic Canal Ring, a UNESCO World Heritage site, and admire the beautiful architecture and charming bridges.",
            "time": "Morning"
          },
          {
            "name": "Visit the Begijnhof",
            "cost": 0,
            "description": "Explore the peaceful Begijnhof, a historic courtyard with almshouses and a tranquil garden.",
            "time": "Afternoon"
          },
          {
            "name": "Explore the Red Light District (daytime)",
            "cost": 0,
            "description": "Experience the Red Light District during the day to appreciate the historic buildings and unique atmosphere.",
            "time": "Evening"
          }
        ]
      },
      {
        "day": 2,
        "activities": [
          {
            "name": "Visit the Rijksmuseum Gardens",
            "cost": 0,
            "description": "Enjoy the beautiful gardens of the Rijksmuseum, which are free to enter and feature sculptures and water features.",
            "time": "Morning"
          },
          {
            "name": "Take the Free Ferry to Amsterdam-Noord",
            "cost": 0,
            "description": "Take a free GVB ferry from behind Amsterdam Central Station to Amsterdam-Noord and explore the trendy NDSM Wharf with its street art.",
            "time": "Afternoon"
          },
          {
            "name": "Explore the Albert Cuyp Market",
            "cost": 0,
            "description": "Wander through the Albert Cuyp Market, a vibrant street market with a variety of goods and food stalls. (Cost for food/snacks is variable)",
            "time": "Evening"
          }
        ]
      },
      {
        "day": 3,
        "activities": [
          {
            "name": "Visit the OBA Central Library",
            "cost": 0,
            "description": "Explore the Amsterdam Central Library (OBA), one of the largest libraries in Europe, and enjoy the views from the top floor café.",
            "time": "Morning"
          },
          {
            "name": "Relax in Vondelpark",
            "cost": 0,
            "description": "Relax in Vondelpark, Amsterdam's largest park, perfect for a picnic or bike ride.",
            "time": "Afternoon"
          },
          {
            "name": "24 Hour GVB Transport Ticket",
            "cost": 90,
            "description": "For €9.50 you can buy a GVB day ticket and ride Amsterdam's trams, metro and buses for 24 hours.",
            "time": "All day"
          }
        ]
      }
    ]
  }
}
```
2025-12-20 11:31:50,050 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: 28 validation errors for Itinerary
city
  Field required [type=missing, input_value={'trip_name': 'Amsterdam ...he city is walkable.'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.day_number
  Field required [type=missing, input_value={'day': 1, 'theme': 'Hist...e': 'Dinner estimate'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.0.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Morning'...ket (€16.00 approx.)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.0.tags
  Field required [type=missing, input_value={'time_of_day': 'Morning'...ket (€16.00 approx.)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.1.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Lunch', ... 'Budget meal estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.1.tags
  Field required [type=missing, input_value={'time_of_day': 'Lunch', ... 'Budget meal estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.2.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Afternoo...1-hour cruise estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.2.tags
  Field required [type=missing, input_value={'time_of_day': 'Afternoo...1-hour cruise estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.3.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Evening'...rce': 'Dinner estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.0.activities.3.tags
  Field required [type=missing, input_value={'time_of_day': 'Evening'...rce': 'Dinner estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.day_number
  Field required [type=missing, input_value={'day': 2, 'theme': 'Art ...e': 'Dinner estimate'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.0.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Morning'...ket (€25.00 approx.)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.0.tags
  Field required [type=missing, input_value={'time_of_day': 'Morning'...ket (€25.00 approx.)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.1.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Lunch', ...eal/groceries estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.1.tags
  Field required [type=missing, input_value={'time_of_day': 'Lunch', ...eal/groceries estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.2.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Afternoo...ource': 'Free activity'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.2.tags
  Field required [type=missing, input_value={'time_of_day': 'Afternoo...ource': 'Free activity'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.3.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Evening'...rce': 'Dinner estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.1.activities.3.tags
  Field required [type=missing, input_value={'time_of_day': 'Evening'...rce': 'Dinner estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.day_number
  Field required [type=missing, input_value={'day': 3, 'theme': 'Loca... + small contingency'}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.0.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Morning'...ource': 'Free activity'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.0.tags
  Field required [type=missing, input_value={'time_of_day': 'Morning'...ource': 'Free activity'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.1.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Lunch', ... 'Street food estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.1.tags
  Field required [type=missing, input_value={'time_of_day': 'Lunch', ... 'Street food estimate'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.2.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Afternoo...urce': 'Free GVB ferry'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.2.tags
  Field required [type=missing, input_value={'time_of_day': 'Afternoo...urce': 'Free GVB ferry'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.3.duration_hours
  Field required [type=missing, input_value={'time_of_day': 'Evening'...te + small contingency'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
days.2.activities.3.tags
  Field required [type=missing, input_value={'time_of_day': 'Evening'...te + small contingency'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-20 11:31:50,051 - travel_agent_server.agent - ERROR - RAW Response: ```json
{
  "trip_name": "Amsterdam Cultural Highlights on a Budget",
  "total_budget": 1000.0,
  "previous_plan_total_cost": 0.0,
  "final_plan_total_cost": 673.0,
  "currency": "USD",
  "budget_summary": {
    "accommodation_estimate": 355.0,
    "food_estimate": 210.0,
    "local_transport_estimate": 44.0,
    "activities_estimate": 64.0
  },
  "days": [
    {
      "day": 1,
      "theme": "History and Canal Views",
      "activities": [
        {
          "time_of_day": "Morning",
          "name": "Anne Frank House Visit",
          "description": "Visit the house where Anne Frank and her family hid during WWII. Tickets must be booked online well in advance.",
          "duration": "2.5 hours",
          "cost": 17.0,
          "source": "Official Adult Ticket (€16.00 approx.)"
        },
        {
          "time_of_day": "Lunch",
          "name": "Lunch in the Jordaan District",
          "description": "Enjoy a budget-friendly lunch (e.g., a broodje or local pastry) while exploring the picturesque Jordaan neighborhood.",
          "duration": "1 hour",
          "cost": 15.0,
          "source": "Budget meal estimate"
        },
        {
          "time_of_day": "Afternoon",
          "name": "1-Hour Classic Canal Cruise",
          "description": "See the city from the water on a traditional canal boat, a UNESCO World Heritage site experience.",
          "duration": "1 hour",
          "cost": 20.0,
          "source": "Standard 1-hour cruise estimate"
        },
        {
          "time_of_day": "Evening",
          "name": "Wander through De 9 Straatjes (The Nine Streets)",
          "description": "Explore the charming shopping area between the canals, followed by dinner.",
          "duration": "3 hours",
          "cost": 35.0,
          "source": "Dinner estimate"
        }
      ]
    },
    {
      "day": 2,
      "theme": "Art and Park Relaxation",
      "activities": [
        {
          "time_of_day": "Morning",
          "name": "Rijksmuseum Visit",
          "description": "Explore the national museum of the Netherlands, home to Rembrandt's 'The Night Watch'.",
          "duration": "3 hours",
          "cost": 27.0,
          "source": "Adult Ticket (€25.00 approx.)"
        },
        {
          "time_of_day": "Lunch",
          "name": "Picnic in Vondelpark",
          "description": "Pick up supplies from a local supermarket and have a picnic in Amsterdam's largest city park for a budget-friendly and relaxing lunch.",
          "duration": "1.5 hours",
          "cost": 10.0,
          "source": "Budget meal/groceries estimate"
        },
        {
          "time_of_day": "Afternoon",
          "name": "Explore Vondelpark and the Museumplein Gardens",
          "description": "Enjoy the park's atmosphere, sculptures, and the free-to-enter gardens of the Rijksmuseum. The activity itself is free.",
          "duration": "2 hours",
          "cost": 0.0,
          "source": "Free activity"
        },
        {
          "time_of_day": "Evening",
          "name": "Dinner and Drinks near Albert Cuyp Market",
          "description": "Dine in the De Pijp neighbourhood for a more local, affordable dinner experience.",
          "duration": "3 hours",
          "cost": 35.0,
          "source": "Dinner estimate"
        }
      ]
    },
    {
      "day": 3,
      "theme": "Local Markets and Hidden Courtyards",
      "activities": [
        {
          "time_of_day": "Morning",
          "name": "Bloemenmarkt (Floating Flower Market) & City Walk",
          "description": "Stroll through the world's only floating flower market (free to browse) and walk to the historical Begijnhof courtyard (free entry).",
          "duration": "2 hours",
          "cost": 0.0,
          "source": "Free activity"
        },
        {
          "time_of_day": "Lunch",
          "name": "Street Food Lunch: Frietjes and Stroopwafel",
          "description": "Try traditional Dutch snacks from a street vendor for a cheap and quick lunch.",
          "duration": "1 hour",
          "cost": 10.0,
          "source": "Street food estimate"
        },
        {
          "time_of_day": "Afternoon",
          "name": "Free Ferry to NDSM Wharf",
          "description": "Take a free GVB ferry across the IJ river to the NDSM Wharf, a former shipyard turned into a creative hub with street art and waterfront views.",
          "duration": "3 hours",
          "cost": 0.0,
          "source": "Free GVB ferry"
        },
        {
          "time_of_day": "Evening",
          "name": "Farewell Dinner and Red Light District Walk",
          "description": "Have a final Dutch or international dinner and take a respectful, self-guided evening walk through De Wallen (Red Light District) to see the historic area.",
          "duration": "3 hours",
          "cost": 40.0,
          "source": "Dinner estimate + small contingency"
        }
      ]
    }
  ],
  "fixed_costs": [
    {
      "item": "Accommodation (Budget Hotel, 3 nights)",
      "cost": 355.0
    },
    {
      "item": "Food & Drink (Daily Budget, 3 days)",
      "cost": 100.0,
      "note": "Budget for breakfast and some snacks/drinks not covered by activity meals. Total daily food for the plan is $70, so this is $210 total in the overall summary."
    },
    {
      "item": "Local Transport (3-Day GVB/Cycling Budget)",
      "cost": 44.0,
      "note": "Approximate cost for a 3-day travel pass or bike rental, though much of the city is walkable."
    }
  ]
}
```
2025-12-20 12:09:20,601 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 1000.0
2025-12-20 12:11:06,863 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 1000.0
2025-12-20 12:17:13,240 - travel_agent_server - ERROR - SERVER ERROR: Wait 429 Error
2025-12-20 12:23:18,747 - travel_agent_server - INFO - Received streaming request for city: Rotterdam, budget: 600.0
2025-12-20 12:41:43,810 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 600.0
2025-12-20 12:41:43,820 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 12:41:52,506 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 12:41:52,506 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: Extra data: line 133 column 1 (char 6098)
2025-12-20 12:41:52,506 - travel_agent_server.agent - ERROR - RAW Response: ```{
  "city": "Amsterdam",
  "days": [
    {
      "day_number": 1,
      "activities": [
        {
          "name": "Morning Canal Cruise",
          "duration": "1.5 hours",
          "cost": 20,
          "description": "Start your Amsterdam adventure with a scenic canal cruise. Many companies offer affordable tours that provide a great overview of the city's history and iconic architecture from the water.",
          "category": "History, Buildings"
        },
        {
          "name": "Anne Frank House Visit (Pre-booked tickets essential)",
          "duration": "2.5 hours (including queueing)",
          "cost": 16,
          "description": "A visit to the Anne Frank House is a must for history buffs. Book your tickets online well in advance to avoid long queues. The museum offers a poignant look into the life of Anne Frank and the history of the Holocaust.",
          "category": "History"
        },
        {
          "name": "Lunch at a local 'Broodjeswinkel'",
          "duration": "1 hour",
          "cost": 10,
          "description": "Enjoy a traditional Dutch lunch at a local 'broodjeswinkel' (sandwich shop). Try a 'broodje haring' (herring sandwich) or a 'broodje kaas' (cheese sandwich) for an authentic taste of Amsterdam.",
          "category": "Food"
        },
        {
          "name": "Wander through the Jordaan district",
          "duration": "2 hours",
          "cost": 0,
          "description": "Explore the charming Jordaan district, known for its narrow streets, canals, and independent shops and cafes. Get lost in the maze of streets and admire the historic buildings and courtyards.",
          "category": "Buildings, History"
        },
        {
          "name": "Evening at the Concertgebouw (check for affordable concerts)",
          "duration": "2 hours",
          "cost": 25,
          "description": "Check the Concertgebouw's schedule for affordable evening concerts or rehearsals. This world-renowned concert hall offers a range of performances, from classical music to jazz.",
          "category": "Music"
        },
        {
          "name": "Dinner at FEBO",
          "duration": "30 minutes",
          "cost": 7,
          "description": "Experience the Dutch fast-food chain FEBO, where you can grab a quick and cheap snack from vending machines. Try a 'frikandel' or 'kroket' for a unique culinary experience.",
          "category": "Food"
        }
      ]
    },
    {
      "day_number": 2,
      "activities": [
        {
          "name": "Visit the Rijksmuseum",
          "duration": "3 hours",
          "cost": 22.50,
          "description": "Explore Dutch art and history at the Rijksmuseum, home to masterpieces by Rembrandt, Vermeer, and other Dutch masters. Focus on key highlights to make the most of your time.",
          "category": "History, Buildings"
        },
        {
          "name": "Explore Vondelpark",
          "duration": "2 hours",
          "cost": 0,
          "description": "Relax and unwind in Vondelpark, Amsterdam's largest park. Enjoy a picnic, rent a bike, or simply stroll through the green spaces and enjoy the atmosphere.",
          "category": "Buildings"
        },
        {
          "name": "Lunch at the Foodhallen",
          "duration": "1.5 hours",
          "cost": 20,
          "description": "Head to the Foodhallen, an indoor food market with a variety of food stalls offering international cuisine. Sample different dishes and enjoy the lively atmosphere.",
          "category": "Food"
        },
        {
          "name": "Heineken Experience",
          "duration": "2 hours",
          "cost": 23,
          "description": "Take a tour of the Heineken Experience, an interactive museum dedicated to the history of the famous Dutch beer brand. Learn about the brewing process and enjoy a tasting at the end.",
          "category": "Food, History"
        },
        {
          "name": "Attend a concert at Paradiso or Melkweg",
          "duration": "3 hours",
          "cost": 20,
          "description": "Check the schedules for Paradiso or Melkweg, two famous music venues in Amsterdam, and attend a concert by a local or international artist. Enjoy the vibrant music scene of the city.",
          "category": "Music"
        }
      ]
    },
    {
      "day_number": 3,
      "activities": [
        {
          "name": "Visit the Zaanse Schans windmills",
          "duration": "4 hours (including travel time)",
          "cost": 15,
          "description": "Take a day trip to Zaanse Schans, a historic village with well-preserved windmills and traditional Dutch houses. Explore the windmills, learn about their history, and sample local products.",
          "category": "History, Buildings"
        },
        {
          "name": "Lunch at Zaanse Schans",
          "duration": "1 hour",
          "cost": 15,
          "description": "Enjoy a traditional dutch lunch at Zaanse Schans.",
          "category": "Food"
        },
        {
          "name": "Explore the Albert Cuyp Market",
          "duration": "2 hours",
          "cost": 10,
          "description": "Visit the Albert Cuyp Market, the largest and most famous street market in Amsterdam. Browse through the stalls selling food, clothing, and souvenirs, and soak up the lively atmosphere.",
          "category": "Food"
        },
        {
          "name": "Visit Begijnhof",
          "duration": "1 hour",
          "cost": 0,
          "description": "Find serenity in the Begijnhof, one of the oldest courtyards in Amsterdam. Admire the historic houses and the peaceful atmosphere. It is a hidden gem in the city center.",
          "category": "Buildings, History"
        },
        {
          "name": "Dinner at a local Indonesian restaurant",
          "duration": "2 hours",
          "cost": 30,
          "description": "Enjoy a 'rijsttafel' (rice table) at a local Indonesian restaurant. This elaborate meal consists of a variety of small dishes, offering a taste of Indonesian cuisine.",
          "category": "Food"
        }
      ]
    }
  ]
}
{
  "city": "Amsterdam",
  "days": [
    {
      "day_number": 1,
      "activities": [
        {
          "name": "Morning Canal Cruise",
          "duration": "1.5 hours",
          "cost": 20,
          "description": "Start your Amsterdam adventure with a scenic canal cruise. Many companies offer affordable tours that provide a great overview of the city's history and iconic architecture from the water.",
          "category": "History, Buildings"
        },
        {
          "name": "Anne Frank House Visit (Pre-booked tickets essential)",
          "duration": "2.5 hours (including queueing)",
          "cost": 16,
          "description": "A visit to the Anne Frank House is a must for history buffs. Book your tickets online well in advance to avoid long queues. The museum offers a poignant look into the life of Anne Frank and the history of the Holocaust.",
          "category": "History"
        },
        {
          "name": "Lunch at a local 'Broodjeswinkel'",
          "duration": "1 hour",
          "cost": 10,
          "description": "Enjoy a traditional Dutch lunch at a local 'broodjeswinkel' (sandwich shop). Try a 'broodje haring' (herring sandwich) or a 'broodje kaas' (cheese sandwich) for an authentic taste of Amsterdam.",
          "category": "Food"
        },
        {
          "name": "Wander through the Jordaan district",
          "duration": "2 hours",
          "cost": 0,
          "description": "Explore the charming Jordaan district, known for its narrow streets, canals, and independent shops and cafes. Get lost in the maze of streets and admire the historic buildings and courtyards.",
          "category": "Buildings, History"
        },
        {
          "name": "Evening at the Concertgebouw (check for affordable concerts)",
          "duration": "2 hours",
          "cost": 25,
          "description": "Check the Concertgebouw's schedule for affordable evening concerts or rehearsals. This world-renowned concert hall offers a range of performances, from classical music to jazz.",
          "category": "Music"
        },
        {
          "name": "Dinner at FEBO",
          "duration": "30 minutes",
          "cost": 7,
          "description": "Experience the Dutch fast-food chain FEBO, where you can grab a quick and cheap snack from vending machines. Try a 'frikandel' or 'kroket' for a unique culinary experience.",
          "category": "Food"
        }
      ]
    },
    {
      "day_number": 2,
      "activities": [
        {
          "name": "Visit the Rijksmuseum",
          "duration": "3 hours",
          "cost": 22.50,
          "description": "Explore Dutch art and history at the Rijksmuseum, home to masterpieces by Rembrandt, Vermeer, and other Dutch masters. Focus on key highlights to make the most of your time.",
          "category": "History, Buildings"
        },
        {
          "name": "Explore Vondelpark",
          "duration": "2 hours",
          "cost": 0,
          "description": "Relax and unwind in Vondelpark, Amsterdam's largest park. Enjoy a picnic, rent a bike, or simply stroll through the green spaces and enjoy the atmosphere.",
          "category": "Buildings"
        },
        {
          "name": "Lunch at the Foodhallen",
          "duration": "1.5 hours",
          "cost": 20,
          "description": "Head to the Foodhallen, an indoor food market with a variety of food stalls offering international cuisine. Sample different dishes and enjoy the lively atmosphere.",
          "category": "Food"
        },
        {
          "name": "Heineken Experience",
          "duration": "2 hours",
          "cost": 23,
          "description": "Take a tour of the Heineken Experience, an interactive museum dedicated to the history of the famous Dutch beer brand. Learn about the brewing process and enjoy a tasting at the end.",
          "category": "Food, History"
        },
        {
          "name": "Attend a concert at Paradiso or Melkweg",
          "duration": "3 hours",
          "cost": 20,
          "description": "Check the schedules for Paradiso or Melkweg, two famous music venues in Amsterdam, and attend a concert by a local or international artist. Enjoy the vibrant music scene of the city.",
          "category": "Music"
        }
      ]
    },
    {
      "day_number": 3,
      "activities": [
        {
          "name": "Visit the Zaanse Schans windmills",
          "duration": "4 hours (including travel time)",
          "cost": 15,
          "description": "Take a day trip to Zaanse Schans, a historic village with well-preserved windmills and traditional Dutch houses. Explore the windmills, learn about their history, and sample local products.",
          "category": "History, Buildings"
        },
        {
          "name": "Lunch at Zaanse Schans",
          "duration": "1 hour",
          "cost": 15,
          "description": "Enjoy a traditional dutch lunch at Zaanse Schans.",
          "category": "Food"
        },
        {
          "name": "Explore the Albert Cuyp Market",
          "duration": "2 hours",
          "cost": 10,
          "description": "Visit the Albert Cuyp Market, the largest and most famous street market in Amsterdam. Browse through the stalls selling food, clothing, and souvenirs, and soak up the lively atmosphere.",
          "category": "Food"
        },
        {
          "name": "Visit Begijnhof",
          "duration": "1 hour",
          "cost": 0,
          "description": "Find serenity in the Begijnhof, one of the oldest courtyards in Amsterdam. Admire the historic houses and the peaceful atmosphere. It is a hidden gem in the city center.",
          "category": "Buildings, History"
        },
        {
          "name": "Dinner at a local Indonesian restaurant",
          "duration": "2 hours",
          "cost": 30,
          "description": "Enjoy a 'rijsttafel' (rice table) at a local Indonesian restaurant. This elaborate meal consists of a variety of small dishes, offering a taste of Indonesian cuisine.",
          "category": "Food"
        }
      ]
    }
  ]
}

2025-12-20 12:41:52,508 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 12:41:54,357 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 12:41:54,357 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: Extra data: line 23 column 1 (char 530)
2025-12-20 12:41:54,357 - travel_agent_server.agent - ERROR - RAW Response: ```{
  "Itinerary": {
    "Amsterdam": {
      "Day 1": {
        "Morning": "Visit the Anne Frank House",
        "Afternoon": "Explore the Jordaan district",
        "Evening": "Canal cruise"
      },
      "Day 2": {
        "Morning": "Rijksmuseum",
        "Afternoon": "Van Gogh Museum",
        "Evening": "Heineken Experience"
      },
      "Day 3": {
        "Morning": "Vondelpark",
        "Afternoon": "Albert Cuyp Market",
        "Evening": "Red Light District walking tour"
      }
    },
    "Total Cost": 550
  }
}
{
  "Itinerary": {
    "Amsterdam": {
      "Day 1": {
        "Morning": "Visit the Anne Frank House",
        "Afternoon": "Explore the Jordaan district",
        "Evening": "Canal cruise"
      },
      "Day 2": {
        "Morning": "Rijksmuseum",
        "Afternoon": "Van Gogh Museum",
        "Evening": "Heineken Experience"
      },
      "Day 3": {
        "Morning": "Vondelpark",
        "Afternoon": "Albert Cuyp Market",
        "Evening": "Red Light District walking tour"
      }
    },
    "Total Cost": 550
  }
}

2025-12-20 12:41:54,358 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 12:41:56,224 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 12:41:56,224 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: Extra data: line 24 column 1 (char 560)
2025-12-20 12:41:56,224 - travel_agent_server.agent - ERROR - RAW Response: ```{
  "Itinerary": {
    "Amsterdam": {
      "Day 1": {
        "Morning": "Visit the Anne Frank House",
        "Afternoon": "Explore the Jordaan district",
        "Evening": "Canal cruise"
      },
      "Day 2": {
        "Morning": "Rijksmuseum visit",
        "Afternoon": "Van Gogh Museum",
        "Evening": "Heineken Experience"
      },
      "Day 3": {
        "Morning": "Vondelpark relaxation",
        "Afternoon": "Albert Cuyp Market exploration",
        "Evening": "Dinner in De Pijp"
      }
    }
  },
  "Total Cost": 550,
  "Budget": 600
}
{
  "Itinerary": {
    "Amsterdam": {
      "Day 1": {
        "Morning": "Visit the Anne Frank House",
        "Afternoon": "Explore the Jordaan district",
        "Evening": "Canal cruise"
      },
      "Day 2": {
        "Morning": "Rijksmuseum visit",
        "Afternoon": "Van Gogh Museum",
        "Evening": "Heineken Experience"
      },
      "Day 3": {
        "Morning": "Vondelpark relaxation",
        "Afternoon": "Albert Cuyp Market exploration",
        "Evening": "Dinner in De Pijp"
      }
    }
  },
  "Total Cost": 550,
  "Budget": 600
}

2025-12-20 12:41:56,225 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 12:41:57,958 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 12:41:57,958 - travel_agent_server.agent - ERROR - ERROR parsing LLM response: Extra data: line 23 column 1 (char 577)
2025-12-20 12:41:57,958 - travel_agent_server.agent - ERROR - RAW Response: ```{
  "Itinerary": {
    "Amsterdam": {
      "Day 1": {
        "Morning": "Visit the Anne Frank House",
        "Afternoon": "Explore the Jordaan district",
        "Evening": "Canal cruise"
      },
      "Day 2": {
        "Morning": "Visit the Rijksmuseum",
        "Afternoon": "Explore Vondelpark",
        "Evening": "Heineken Experience"
      },
      "Day 3": {
        "Morning": "Visit the Van Gogh Museum",
        "Afternoon": "Explore the Albert Cuyp Market",
        "Evening": "Dinner at a traditional Dutch restaurant"
      }
    }
  },
  "Total Cost": 550
}
{
  "Itinerary": {
    "Amsterdam": {
      "Day 1": {
        "Morning": "Visit the Anne Frank House",
        "Afternoon": "Explore the Jordaan district",
        "Evening": "Canal cruise"
      },
      "Day 2": {
        "Morning": "Visit the Rijksmuseum",
        "Afternoon": "Explore Vondelpark",
        "Evening": "Heineken Experience"
      },
      "Day 3": {
        "Morning": "Visit the Van Gogh Museum",
        "Afternoon": "Explore the Albert Cuyp Market",
        "Evening": "Dinner at a traditional Dutch restaurant"
      }
    }
  },
  "Total Cost": 550
}

2025-12-20 12:43:48,782 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 600.0
2025-12-20 12:43:48,784 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 12:43:55,797 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 12:52:13,859 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 600.0
2025-12-20 12:52:13,863 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 12:52:21,438 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 13:52:49,463 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 650.0
2025-12-20 13:52:49,465 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 13:52:56,660 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 13:55:50,388 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 13:55:50,390 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 13:55:56,206 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:04:14,417 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:04:14,420 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:04:22,368 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:04:32,393 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:04:32,394 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:04:43,855 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:07:29,855 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:07:29,857 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:07:42,698 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:11:23,068 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:11:23,069 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:11:34,609 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:44:44,274 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:44:44,277 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:44:52,645 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:47:36,883 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:47:36,885 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:47:49,688 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:48:15,160 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:48:15,162 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:48:25,982 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:48:58,915 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:48:58,918 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:49:13,198 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:51:33,524 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:51:33,527 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:51:47,623 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:51:57,627 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:51:57,628 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:52:11,497 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:54:30,903 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:54:30,905 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:54:44,437 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 14:56:53,809 - travel_agent_server - INFO - Received streaming request for city: Amsterdam, budget: 654.0
2025-12-20 14:56:53,812 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 14:57:08,097 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:02:14,195 - travel_agent_server - INFO - Received streaming request for city: Rome, budget: 654.0
2025-12-20 15:02:14,197 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:02:26,987 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:19:43,325 - travel_agent_server - INFO - Received streaming request for city: Rome, budget: 654.0
2025-12-20 15:19:43,328 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:19:52,195 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:22:29,253 - travel_agent_server - INFO - Received streaming request for city: Rome, budget: 654.0
2025-12-20 15:22:29,256 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:22:41,521 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:32:53,329 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:32:53,340 - travel_agent_server - ERROR - SERVER ERROR: name 'asyncio' is not defined
2025-12-20 15:34:28,560 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:34:28,624 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:34:35,289 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:39:14,358 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:39:14,423 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:39:19,805 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:39:57,782 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:39:57,851 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:40:03,000 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:43:05,538 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:43:05,608 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:43:11,255 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:47:13,599 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:47:13,668 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:47:20,058 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:55:08,403 - travel_agent_server - INFO - Received streaming request for city: paris, budget: 500.0
2025-12-20 15:55:08,477 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:55:14,114 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 15:58:06,027 - travel_agent_server - INFO - Received streaming request for city: Mumbai, budget: 200.0
2025-12-20 15:58:06,096 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 15:58:19,044 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 16:02:04,755 - travel_agent_server - INFO - Received streaming request for city: Mumbai, budget: 200.0
2025-12-20 16:02:04,827 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 16:02:14,948 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 16:10:22,402 - travel_agent_server - INFO - Received streaming request for city: Mumbai, budget: 200.0
2025-12-20 16:10:22,468 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 16:10:35,573 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 16:42:23,507 - travel_agent_server - INFO - Received streaming request for city: Mumbai, budget: 200.0
2025-12-20 16:42:23,586 - travel_agent_server.agent - INFO - DEBUG: Attempting with model: gemini-2.0-flash...
2025-12-20 16:42:34,863 - travel_agent_server.agent - INFO - DEBUG: Success with gemini-2.0-flash!
2025-12-20 17:36:05,707 - travel_agent_server - INFO - Received streaming request for city: Mumbai, budget: 200.0
2025-12-20 17:36:05,792 - travel_agent_server.agent - INFO - DEBUG: Streaming with model: gemini-2.0-flash...
2025-12-20 17:40:39,336 - travel_agent_server - INFO - Received streaming request for city: Mumbai, budget: 200.0
2025-12-20 17:40:39,427 - travel_agent_server.agent - INFO - DEBUG: Streaming with model: gemini-2.0-flash...
